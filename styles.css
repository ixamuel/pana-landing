/* ─── Theme tokens ─── */
:root,
[data-theme="dark"] {
  --bg0: #0b1020;
  --bg1: #081325;
  --card: rgba(255, 255, 255, .10);
  --card2: rgba(255, 255, 255, .07);
  --stroke: rgba(255, 255, 255, .16);
  --text: rgba(255, 255, 255, .92);
  --muted: rgba(255, 255, 255, .68);
  --shadow: 0 18px 50px rgba(0, 0, 0, .38);
  --shadow2: 0 22px 70px rgba(0, 0, 0, .30);
  --radius: 22px;
  --radius2: 16px;
  --blur: 18px;
  --accentA: #7dd3fc;
  --accentB: #a78bfa;
  --accentC: #34d399;
  --accentD: #fbbf24;
  --panasonic-blue: #004098;
  --glow-opacity: .12;
  --particle-opacity: .25;
}

[data-theme="light"] {
  --bg0: #eef2ff;
  --bg1: #eaf7ff;
  --card: rgba(255, 255, 255, .62);
  --card2: rgba(255, 255, 255, .46);
  --stroke: rgba(10, 20, 40, .10);
  --text: rgba(10, 20, 40, .92);
  --muted: rgba(10, 20, 40, .62);
  --shadow: 0 18px 60px rgba(10, 20, 40, .12);
  --shadow2: 0 22px 72px rgba(10, 20, 40, .14);
  --glow-opacity: .08;
  --particle-opacity: .18;
}

/* System preference fallback when auto */
@media (prefers-color-scheme: light) {
  [data-theme="auto"] {
    --bg0: #eef2ff;
    --bg1: #eaf7ff;
    --card: rgba(255, 255, 255, .62);
    --card2: rgba(255, 255, 255, .46);
    --stroke: rgba(10, 20, 40, .10);
    --text: rgba(10, 20, 40, .92);
    --muted: rgba(10, 20, 40, .62);
    --shadow: 0 18px 60px rgba(10, 20, 40, .12);
    --shadow2: 0 22px 72px rgba(10, 20, 40, .14);
    --glow-opacity: .08;
    --particle-opacity: .18;
  }
}

* {
  box-sizing: border-box;
}

html,
body {
  height: 100%;
}

body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, "SF Pro Display", "SF Pro Text",
    "Segoe UI", Roboto, Helvetica, Arial;
  color: var(--text);
  background:
    radial-gradient(1200px 700px at 18% 10%, rgba(125, 211, 252, .30), transparent 60%),
    radial-gradient(900px 600px at 70% 18%, rgba(167, 139, 250, .26), transparent 60%),
    radial-gradient(1000px 700px at 60% 92%, rgba(52, 211, 153, .22), transparent 55%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
  overflow-x: hidden;
  transition: background .4s ease, color .3s ease;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, .10), transparent 40%),
    radial-gradient(circle at 80% 20%, rgba(255, 255, 255, .08), transparent 45%),
    radial-gradient(circle at 60% 85%, rgba(255, 255, 255, .07), transparent 50%);
  mix-blend-mode: overlay;
  opacity: .55;
}

/* ─── Particle canvas ─── */
#particles {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  opacity: var(--particle-opacity);
}

.wrap {
  width: min(1100px, calc(100% - 44px));
  margin: 0 auto;
  padding: 26px 0 46px;
  position: relative;
  z-index: 1;
}

/* ─── Header ─── */
header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 14px;
  padding: 10px 4px 18px;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 0;
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
  text-decoration: none;
  color: inherit;
  min-width: 0;
}

.logoBox {
  width: 48px;
  height: 48px;
  border-radius: 14px;
  background: var(--panasonic-blue);
  box-shadow: 0 10px 30px rgba(0, 0, 0, .22);
  border: 1px solid rgba(255, 255, 255, .18);
  display: grid;
  place-items: center;
  flex: 0 0 auto;
  position: relative;
  overflow: hidden;
}

.logoBox::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, .35), transparent 55%);
  pointer-events: none;
}

.logoBox svg {
  position: relative;
  z-index: 1;
}

.wordmark {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
}

.wordmark svg {
  height: 22px;
  width: auto;
  display: block;
}

.wordmark .subline {
  font-size: 12px;
  color: var(--muted);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-shrink: 0;
}

.pill {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  background: var(--card2);
  border: 1px solid var(--stroke);
  -webkit-backdrop-filter: blur(var(--blur));
  backdrop-filter: blur(var(--blur));
  box-shadow: 0 10px 30px rgba(0, 0, 0, .14);
  color: var(--muted);
  font-size: 12px;
  white-space: nowrap;
}

/* ─── Theme toggle ─── */
.theme-toggle {
  width: 38px;
  height: 38px;
  border-radius: 12px;
  background: var(--card2);
  border: 1px solid var(--stroke);
  -webkit-backdrop-filter: blur(var(--blur));
  backdrop-filter: blur(var(--blur));
  display: grid;
  place-items: center;
  cursor: pointer;
  color: var(--text);
  transition: background .2s, border-color .2s, transform .2s;
  flex-shrink: 0;
  padding: 0;
}

.theme-toggle:hover {
  background: rgba(255, 255, 255, .14);
  border-color: rgba(125, 211, 252, .30);
  transform: translateY(-1px) scale(1.04);
}

.theme-toggle:active {
  transform: translateY(0) scale(0.92);
  transition-duration: 0.1s;
}

.theme-toggle svg {
  width: 20px;
  height: 20px;
  overflow: visible;
}

.sun-moon-icon {
  width: 20px;
  height: 20px;
  transition: transform .6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.sun-body {
  fill: currentColor;
  transition: r .6s cubic-bezier(0.34, 1.56, 0.64, 1), transform .6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.mask-circle {
  transition: cx .6s cubic-bezier(0.34, 1.56, 0.64, 1), cy .6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.sun-rays {
  stroke: currentColor;
  transform-origin: center;
  transition: transform .5s cubic-bezier(0.34, 1.56, 0.64, 1), opacity .4s ease;
}

/* Dark mode (Moon) */
[data-active-theme="dark"] .sun-moon-icon {
  transform: rotate(40deg);
}

[data-active-theme="dark"] .mask-circle {
  cx: 16px;
  cy: 8px;
}

[data-active-theme="dark"] .sun-body {
  r: 9px;
}

[data-active-theme="dark"] .sun-rays {
  opacity: 0;
  transform: scale(.6) rotate(-45deg);
}

/* Light mode (Sun) */
[data-active-theme="light"] .sun-moon-icon {
  transform: rotate(0deg);
}

[data-active-theme="light"] .mask-circle {
  cx: 24px;
  cy: 10px;
}

[data-active-theme="light"] .sun-body {
  r: 5px;
}

[data-active-theme="light"] .sun-rays {
  opacity: 1;
  transform: scale(1) rotate(0deg);
}

/* ─── View Transitions ─── */
::view-transition-old(root),
::view-transition-new(root) {
  animation-duration: 0.7s;
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  animation-fill-mode: both;
}

/* Simple fade transition */
[data-theme-transitioning] ::view-transition-old(root) {
  animation-name: fade-out;
}

[data-theme-transitioning] ::view-transition-new(root) {
  animation-name: fade-in;
}

@keyframes fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

/* ─── Hero ─── */
.hero {
  border-radius: var(--radius);
  background: linear-gradient(180deg, var(--card), rgba(255, 255, 255, .06));
  border: 1px solid var(--stroke);
  -webkit-backdrop-filter: blur(var(--blur));
  backdrop-filter: blur(var(--blur));
  box-shadow: var(--shadow);
  padding: 22px;
  position: relative;
  overflow: hidden;
  transition: background .3s, border-color .3s, box-shadow .3s;
}

.hero::after {
  content: "";
  position: absolute;
  inset: -2px;
  background:
    radial-gradient(600px 240px at 15% 0%, rgba(125, 211, 252, .28), transparent 60%),
    radial-gradient(500px 260px at 75% 10%, rgba(167, 139, 250, .22), transparent 55%);
  opacity: .8;
  pointer-events: none;
}

.hero>* {
  position: relative;
  z-index: 1;
}

h1 {
  margin: 0;
  font-size: clamp(22px, 4.2vw, 40px);
  letter-spacing: -0.5px;
  line-height: 1.15;
}

.sub {
  margin: 10px 0 0;
  max-width: 72ch;
  color: var(--muted);
  font-size: 14.5px;
  line-height: 1.55;
}

/* ─── Search ─── */
.search-wrap {
  position: relative;
  margin-top: 16px;
  max-width: 380px;
}

.search-wrap>svg {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  opacity: .5;
  pointer-events: none;
}

.search-input {
  width: 100%;
  padding: 11px 14px 11px 40px;
  border-radius: 999px;
  border: 1px solid var(--stroke);
  background: rgba(255, 255, 255, .07);
  -webkit-backdrop-filter: blur(var(--blur));
  backdrop-filter: blur(var(--blur));
  color: var(--text);
  font-size: 13.5px;
  font-family: inherit;
  outline: none;
  transition: border-color .2s, background .2s;
}

.search-input::placeholder {
  color: var(--muted);
  opacity: .7;
}

.search-input:focus {
  border-color: rgba(125, 211, 252, .45);
  background: rgba(255, 255, 255, .10);
}

/* ─── Grid ─── */
.grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
  margin-top: 14px;
}

@media (min-width: 820px) {
  .grid {
    grid-template-columns: 1fr 1fr;
  }
}

/* ─── Card ─── */
.card {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 18px;
  border-radius: var(--radius2);
  text-decoration: none;
  color: inherit;
  background: linear-gradient(180deg, var(--card), rgba(255, 255, 255, .05));
  border: 1px solid var(--stroke);
  -webkit-backdrop-filter: blur(var(--blur));
  backdrop-filter: blur(var(--blur));
  box-shadow: 0 12px 40px rgba(0, 0, 0, .18);
  transform: translateY(0) scale(1);
  transition:
    transform .24s ease,
    box-shadow .24s ease,
    border-color .24s ease,
    filter .24s ease,
    opacity .24s ease;
  position: relative;
  overflow: hidden;
  min-height: 148px;
  will-change: transform;

  /* Skeleton shimmer then entrance */
  opacity: 0;
  animation: shimmer .6s ease forwards, cardIn .55s ease forwards;
}

.card:nth-child(1) {
  animation-delay: 0s, .35s;
}

.card:nth-child(2) {
  animation-delay: .06s, .43s;
}

.card:nth-child(3) {
  animation-delay: .12s, .51s;
}

.card:nth-child(4) {
  animation-delay: .18s, .59s;
}

@keyframes shimmer {
  0% {
    opacity: 0;
  }

  30% {
    opacity: .35;
  }

  70% {
    opacity: .15;
  }

  100% {
    opacity: 0;
  }
}

@keyframes cardIn {
  from {
    opacity: 0;
    transform: translateY(18px) scale(.97);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.card.hidden {
  display: none;
}

/* Glassmorphism overlay */
.card::before {
  content: "";
  position: absolute;
  inset: -1px;
  background:
    radial-gradient(520px 220px at 12% 10%, rgba(255, 255, 255, .20), transparent 60%),
    radial-gradient(380px 180px at 80% 20%, rgba(255, 255, 255, .12), transparent 55%);
  opacity: .65;
  pointer-events: none;
  transition: opacity .24s ease;
}

/* Sheen sweep on hover */
.card::after {
  content: "";
  position: absolute;
  top: -30%;
  left: -60%;
  width: 70%;
  height: 160%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, .22), transparent);
  transform: rotate(18deg) translateX(-20%);
  opacity: 0;
  pointer-events: none;
  transition: opacity .24s ease, transform .6s ease;
}

.card:hover {
  transform: translateY(-3px) scale(1.01);
  box-shadow: var(--shadow2);
  border-color: rgba(255, 255, 255, .28);
  filter: saturate(1.04);
}

.card:hover::before {
  opacity: .78;
}

.card:hover::after {
  opacity: .85;
  transform: rotate(18deg) translateX(210%);
}

.card[data-tilt="on"] {
  transition: transform .12s ease-out, box-shadow .24s ease, border-color .24s ease, filter .24s ease;
}

.card:focus-visible {
  outline: 3px solid rgba(125, 211, 252, .55);
  outline-offset: 3px;
}

/* ─── Cursor glow ─── */
.card-glow {
  position: absolute;
  width: 260px;
  height: 260px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(125, 211, 252, .25), transparent 70%);
  pointer-events: none;
  z-index: 0;
  opacity: 0;
  transform: translate(-50%, -50%);
  transition: opacity .25s ease;
  mix-blend-mode: screen;
}

.card:hover .card-glow {
  opacity: var(--glow-opacity);
}

/* ─── Card internals ─── */
.top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  position: relative;
  z-index: 1;
}

.title {
  margin: 0;
  font-size: 16px;
  letter-spacing: -0.2px;
}

.desc {
  margin: 0;
  color: var(--muted);
  font-size: 13px;
  line-height: 1.45;
  position: relative;
  z-index: 1;
  max-width: 62ch;
}

.meta {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  position: relative;
  z-index: 1;
  margin-top: auto;
}

.tag {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 7px 10px;
  border-radius: 999px;
  background: rgba(255, 255, 255, .08);
  border: 1px solid rgba(255, 255, 255, .14);
  color: var(--muted);
  font-size: 12px;
}

/* Keyboard shortcut hint on card */
.kbd-hint {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 22px;
  height: 22px;
  border-radius: 6px;
  background: rgba(255, 255, 255, .08);
  border: 1px solid rgba(255, 255, 255, .12);
  display: grid;
  place-items: center;
  font-size: 11px;
  font-weight: 600;
  color: var(--muted);
  opacity: 0;
  transition: opacity .2s;
  z-index: 2;
  pointer-events: none;
}

.card:hover .kbd-hint {
  opacity: .7;
}

.arrow {
  width: 32px;
  height: 32px;
  border-radius: 12px;
  background: rgba(255, 255, 255, .10);
  border: 1px solid rgba(255, 255, 255, .14);
  display: grid;
  place-items: center;
  flex: 0 0 auto;
  position: relative;
  z-index: 1;
  transition: transform .24s ease, background .24s ease, border-color .24s ease;
}

.card:hover .arrow {
  transform: translateX(1px) translateY(-1px);
  background: rgba(255, 255, 255, .14);
  border-color: rgba(255, 255, 255, .22);
}

.arrow svg {
  opacity: .9;
}

/* ─── Accent strip ─── */
.accent {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 4px;
  opacity: .95;
  pointer-events: none;
}

.a {
  background: linear-gradient(180deg, var(--accentA), rgba(125, 211, 252, .2));
}

.b {
  background: linear-gradient(180deg, var(--accentB), rgba(167, 139, 250, .2));
}

.c {
  background: linear-gradient(180deg, var(--accentC), rgba(52, 211, 153, .2));
}

.d {
  background: linear-gradient(180deg, var(--accentD), rgba(251, 191, 36, .2));
}

/* ─── Footer ─── */
footer {
  margin-top: 14px;
  color: var(--muted);
  font-size: 12px;
  padding: 6px 4px 0;
  line-height: 1.5;
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
}

footer a {
  color: var(--accentA);
  text-decoration: none;
  transition: opacity .2s;
}

footer a:hover {
  opacity: .75;
  text-decoration: underline;
}

/* ─── Disclaimer ─── */
.disclaimer {
  margin-top: 10px;
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255, 255, 255, .06);
  border: 1px solid rgba(255, 255, 255, .12);
  -webkit-backdrop-filter: blur(var(--blur));
  backdrop-filter: blur(var(--blur));
}

.badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(255, 255, 255, .10);
  border: 1px solid rgba(255, 255, 255, .14);
  color: var(--muted);
  font-size: 11px;
}

/* ─── No results ─── */
.no-results {
  display: none;
  text-align: center;
  padding: 32px 16px;
  color: var(--muted);
  font-size: 14px;
  grid-column: 1 / -1;
}

.no-results.show {
  display: block;
}

/* ─── Entrance animations ─── */
.hero {
  animation: heroIn .5s ease forwards;
}

@keyframes heroIn {
  from {
    opacity: 0;
    transform: translateY(12px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

header {
  animation: headerIn .4s ease forwards;
}

@keyframes headerIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ─── Responsive ─── */
@media (max-width: 820px) {
  .wrap {
    width: min(1100px, calc(100% - 26px));
  }

  .pill {
    display: none;
  }

  .hero {
    padding: 18px;
  }
}

@media (prefers-reduced-motion: reduce) {

  .card,
  .hero,
  header {
    animation: none;
    opacity: 1;
  }

  .card {
    transition: none;
  }

  .card::after {
    transition: none;
  }

  .card:hover {
    transform: none;
  }

  .card[data-tilt="on"] {
    transition: none;
  }

  .theme-toggle svg {
    transition: none;
  }

  #particles {
    display: none;
  }
}